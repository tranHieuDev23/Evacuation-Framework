\documentclass{article}
\usepackage[utf8]{vietnam}
\usepackage{amsmath}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{geometry}

\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\makeatother
\geometry{
		top = 35mm,
		left = 40mm,
		right = 30mm,
		bottom = 40mm
}

\begin{document}

\textsc{\LARGE Đại Học Bách Khoa Hà Nội} \\[1,5cm]
\textsc{\large Lớp Kĩ Sư Tài Năng - Công Nghệ Thông Tin K62} \\[0.5cm]
{\huge\bfseries Tìm đường thoát hiểm }\\[0.4cm] 

    \begin{flushleft}
        \large
        Ngày 8 tháng 5 năm 2019 \\[0.5cm]
        \textit{Author}\\[0,3cm] 
           
    \end{flushleft}
    
    \section{Tiêu chuẩn đề đánh giá trọng số con đường}
    Xét đoạn đường với chiều dài L, chiều ngang H, chỉ số an toàn T,
    và hiện tại có N người trên đoạn đường đó. Giả sử trong điều 
    kiện bình thường, đoạn đường không có người, độ an toàn T = 1, 
    thì với một người di chuyển vào con đường đó sẽ có vận tốc là V.
    Nhưng với ngoại cảnh cụ thể, thì vận tốc người đó sẽ nhỏ hơn,
    có thể coi như vận tốc thực tế của người đó tỉ lệ thuận với độ 
    an toàn và tỉ lệ nghịch với mật độ người trên con đường đó.
    Ta có thể xét 
    \begin{equation*}
        \emph{v} = \frac{V}{F(T, D)}
    \end{equation*} 
    $D = \frac{L*H}{X*Y}$ là mật độ người trên đoạn đường,
    $F(T, D)$ ta gọi là hàm ngữ cảnh, đặc trưng cho sự ảnh hưởng
    của ngoại cảnh tới vận tốc di chuyển của con người.
    Như vậy, thời gian để những người đó đi hết đoạn đường là:
    \begin{displaymath}
        t = \frac{L}{\emph{v}}  
        \Leftrightarrow t = \frac{L*F(T, D)}{V}   
    \end{displaymath}
    Đặt trọng số $W = \L*F(T, D)$ thì $t = \frac{W}{V}$. \\
    Như vậy, trong công thức trên, nếu V là vận tốc chuẩn của một 
    người thì w giống như chuẩn độ dài của con đường trong ngoại 
    cảnh cụ thể, và thời gian đi qua con đường sẽ được tính bởi 
    hai đơn vị trên. \\
    Ta sẽ giả sử tất cả mọi người trong tòa nhà đều có cùng vận tốc
    trung bình là $v_{tb}$, và khi đó thì để so sánh xem hai con
    đường nào tốt hơn, tức là ta phải so sánh thời gian thoát hiểm 
    của hai con đường đó, đồng nghĩa với việc ta phải so sánh trọng 
    số w của quãng đường. \\ 
    Ở đây, trong mô phỏng, ta sử dùng hàm:
    \begin{equation}
        F(T, D) = \frac{1}{T * (1.0001 - D)}
    \end{equation}
    
    \section{Ý tưởng thuật toán}
    Xét đoạn đường đi từ một Indicator u trong tòa nhà tới một exit 
    node e, gồm các corridor theo thứ tự là $p = <p_{1}, p_{2}, ...,p_{k}
    >$. Với mỗi corridor $p_{i}$ sẽ có tương ững $n_{i}$ người. \\ 
    Trọng số w của đoạn đường được tính: $w$ = $\sum{w_{i}}$ với 
    $w_{i} = \frac{L_{i}*g(D_{i})}{f(T_{i})}$ là trọng số của quãng 
    đường tương ứng tại thời điểm hiện tại. Với công thức như trên 
    thì ta thấy trọng số của đường đi từ Indicator u sẽ phụ thuộc vào mật độ lượng
    người trên mỗi cạnh tại thời điểm tính, giả sử là $t_{1}$.
    Ta có nhận xét rằng khi mà nhóm người A ở cạnh $p_{i1}$ tới 
    được được cạnh $p_{i2}$ (i2 > i1) thì những người ở cạnh 
    $p_{i2}$ đã di chuyển sang cạnh khác, tức là họ không ảnh hưởng 
    tới thời gian di chuyển của nhóm người A trên cạnh $p_{i2}$. Những 
    thành phần ảnh hưởng trực tiếp tới thời gian di chuyển trên cạnh 
    $p_{i2}$ của nhóm người A là điều kiện môi trường và lượng người 
    di chuyển trên đó cùng thời điểm nhóm A có di chuyển trên $p_{i2}$. 
    Như vậy, nếu ta muốn 
    lấy trọng số w để đặc trưng cho thời gian thoát hiểm của một
    nhóm người trên một đoạn đường thì không thể tính bởi công thức 
    như trên. Để có thể tính chi li, xét dãy $t = <t_{1}, t_{2},
    ..., t_{k}>$, $t_{i}$ là thời điểm mà số người đó bắt đầu đi vào
    quãng đường $p_{i}$, thì trọng số w sẽ được tính 
    \begin{equation}
        w = \sum{w_{i}}
    \end{equation}  
    với $w_{i}$ là trọng số của quãng đường $p_{i}$ tại thời điểm 
    $t_{i}$. \\
    Vấn đề là với mỗi đường đi khác nhau sẽ có cách chia thời gian 
    khác nhau, và để tính toán với từng đoạn đường như vậy là không 
    thể về khía cạnh thời gian tính toán. \\ 
    Với ý tưởng tương tự trên, ta sẽ chia đường đi làm 2 phần. 
    Phần đầu tiên là quãng đường đi được trong t(s) tiếp theo, 
    phần tiếp theo là đoạn còn lại. Giả sử trong t(s) tiếp theo 
    thì những người ở Indicator u đi đến được đoạn $p_{i}$. \\
    Đặt path1 = $<p_{1}, ..., p_{i-1}>$, path2 = $<p_{i}, ..., p_{k}
    >$. Trọng số của đoạn đường p sẽ được tính: 
    \begin{equation}
        w = w1 + w2 
    \end{equation}
    với \begin{itemize}
        \item $w1 = \sum{w_{j}}, j < i$, các đoạn $w_{j}$ được
        tính với số người trên đoạn là $n_{1}$ người, hay là số 
        người đang ở $p_{1}$ tại thời điểm hiện tại.
        \item $w2 = \sum{w_{j}}, i <= j <= k$, các đoạn $w_{j}$
        được tính với số người tới được $p_{i}$ trong t giây 
        tiếp theo.
    \end{itemize}
    \subsection{Mô hình tòa nhà}
    Tòa nhà sẽ có mô hình giống như mô hình tòa nhà trong thuật toán 
    LCDT, gồm các Indicator nhận thông tin từ máy chủ của toà nhà 
    và chỉ hướng cho những người gần đó trong trường hợp di tản. Nó 
    sẽ vẫn chứa dữ liệu backup dùng cho trường hợp mất kết nối với máy 
    chủ, sẽ là hướng chỉ đến đỉnh tiếp theo trong cây khung đường đi 
    ngắn nhất đến các lối ra. 

    \input{Algorithm.tex}
\end{document}